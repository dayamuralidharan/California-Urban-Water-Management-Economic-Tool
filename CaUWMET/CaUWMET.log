CaUWMET Optimization Logs
Start Datetime: 2023-11-02 22:35:01.112400
ModelLogic - OK
Begin optimization loop through 27 Contractors
---
{
  {
    contractor: 'City of Folsom',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 14636493.277239436,
    F_zero: 14636493.277239436,
    execution_time: '0:01:27',
    viz_path: 'graphics/CityofFolsom-2045_optimization_p-20_n-17_1698964503.png'
  },
  {
    contractor: 'City of Redding',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 16558143.21763091,
    F_zero: 16558143.21763091,
    execution_time: '0:01:27',
    viz_path: 'graphics/CityofRedding-2045_optimization_p-20_n-17_1698964593.png'
  },
  {
    contractor: 'City of Roseville',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 3359.999999999221],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 36659878.64334242,
    F_zero: 36811881.658646405,
    execution_time: '0:03:39',
    viz_path: 'graphics/CityofRoseville-2045_optimization_p-20_n-41_1698964681.png'
  },
  {
    contractor: 'City of West Sacramento',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 11989605.804434955,
    F_zero: 11989605.804434955,
    execution_time: '0:01:27',
    viz_path: 'graphics/CityofWestSacramento-2045_optimization_p-20_n-17_1698964902.png'
  },
  {
    contractor: 'Yuba City',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 10464294.03129194,
    F_zero: 10464294.03129194,
    execution_time: '0:01:27',
    viz_path: 'graphics/YubaCity-2045_optimization_p-20_n-17_1698964991.png'
  },
  {
    contractor: 'El Dorado Irrigation District',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 25461415.30979267,
    F_zero: 25461415.30979267,
    execution_time: '0:01:28',
    viz_path: 'graphics/ElDoradoIrrigationDistrict-2045_optimization_p-20_n-17_1698965080.png'
  },
  {
    contractor: 'Placer County Water Agency',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 134302167.20484743,
    F_zero: 134302167.20484743,
    execution_time: '0:02:09',
    viz_path: 'graphics/PlacerCountyWaterAgency-2045_optimization_p-20_n-17_1698965170.png'
  },
  {
    contractor: 'Sacramento County Water Agency',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 51246924.69003086,
    F_zero: 51246924.69003086,
    execution_time: '0:01:28',
    viz_path: 'graphics/SacramentoCountyWaterAgency-2045_optimization_p-20_n-17_1698965301.png'
  },
  {
    contractor: 'San Juan Water District',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 31575103.983015344,
    F_zero: 31575103.983015344,
    execution_time: '0:01:28',
    viz_path: 'graphics/SanJuanWaterDistrict-2045_optimization_p-20_n-17_1698965390.png'
  },
  {
    contractor: 'City of Coalinga',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 174.1014541604135, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 5420856.576744685,
    F_zero: 5506570.6897950955,
    execution_time: '0:03:43',
    viz_path: 'graphics/CityofCoalinga-2045_optimization_p-20_n-41_1698965480.png'
  },
  {
    contractor: 'City of Fresno',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 130097368.68185025,
    F_zero: 130097368.68185025,
    execution_time: '0:01:32',
    viz_path: 'graphics/CityofFresno-2045_optimization_p-20_n-17_1698965705.png'
  },
  {
    contractor: 'City of Tracy',
    error: 'None',
    X_optim: [0, 0, 0, 0, 1336.9371008520563, 0, 7499.034396727194, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 39623346.92651413,
    F_zero: 158324001.11055103,
    execution_time: '0:02:13',
    viz_path: 'graphics/CityofTracy-2045_optimization_p-20_n-23_1698965799.png'
  },
  {
    contractor: 'Stockton-East Water District',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 0.0,
    F_zero: 0.0,
    execution_time: '0:02:42',
    viz_path: 'graphics/Stockton-EastWaterDistrict-2045_optimization_p-20_n-29_1698965937.png'
  },
  {
    contractor: 'Alameda County Flood Control and Water Conservation District, Zone 7',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 32490613.033079933,
    F_zero: 32490613.033079933,
    execution_time: '0:02:08',
    viz_path: 'graphics/AlamedaCountyFloodControlandWaterConservationDistrict,Zone7-2045_optimization_p-20_n-23_1698966101.png'
  },
  {
    contractor: 'Alameda County Water District',
    error: 'None',
    X_optim: [959.7476710972056, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 50010730.490727946,
    F_zero: 54949179.379067264,
    execution_time: '0:04:33',
    viz_path: 'graphics/AlamedaCountyWaterDistrict-2045_optimization_p-20_n-48_1698966230.png'
  },
  {
    contractor: 'Contra Costa Water District',
    error: 'None',
    X_optim: [11799.999999999653, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 160194695.3784655,
    F_zero: 167451842.31807095,
    execution_time: '0:02:32',
    viz_path: 'graphics/ContraCostaWaterDistrict-2045_optimization_p-20_n-29_1698966506.png'
  },
  {
    contractor: 'East Bay Municipal Utilities District',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 147189707.12286213,
    F_zero: 147189707.12286213,
    execution_time: '0:01:36',
    viz_path: 'graphics/EastBayMunicipalUtilitiesDistrict-2045_optimization_p-20_n-17_1698966660.png'
  },
  {
    contractor: 'San Benito County Water District, Zone 6',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 4454864.92013249,
    F_zero: 4454864.92013249,
    execution_time: '0:01:44',
    viz_path: 'graphics/SanBenitoCountyWaterDistrict,Zone6-2045_optimization_p-20_n-17_1698966758.png'
  },
  {
    contractor: 'Santa Clara Valley Water District',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 197128605.13777518,
    F_zero: 197128605.13777518,
    execution_time: '0:02:06',
    viz_path: 'graphics/SantaClaraValleyWaterDistrict-2045_optimization_p-20_n-23_1698966864.png'
  },
  {
    contractor: 'San Luis Obispo County Flood Control & Water Conservation District',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 4847095.956281887,
    F_zero: 4847095.956281887,
    execution_time: '0:01:30',
    viz_path: 'graphics/SanLuisObispoCountyFloodControl&WaterConservationDistrict-2045_optimization_p-20_n-17_1698966992.png'
  },
  {
    contractor: 'Antelope Valley-East Kern Water Agency',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 41377491.73622824,
    F_zero: 41377491.73622824,
    execution_time: '0:01:32',
    viz_path: 'graphics/AntelopeValley-EastKernWaterAgency-2045_optimization_p-20_n-17_1698967085.png'
  },
  {
    contractor: 'Santa Clarita Water Division',
    error: 'index 0 is out of bounds for axis 0 with size 0'
  },
Traceback:
Traceback (most recent call last):
  File "/home/jovyan/California-Urban-Water-Management-Economic-Tool/CaUWMET/main.py", line 105, in main
    try:
  File "/home/jovyan/California-Urban-Water-Management-Economic-Tool/CaUWMET/src/optimization/optimizeWMOs.py", line 95, in optimize
    self.res = minimize(
  File "/opt/conda/lib/python3.10/site-packages/pymoo/optimize.py", line 67, in minimize
    res = algorithm.run()
  File "/opt/conda/lib/python3.10/site-packages/pymoo/core/algorithm.py", line 141, in run
    self.next()
  File "/opt/conda/lib/python3.10/site-packages/pymoo/core/algorithm.py", line 161, in next
    self.evaluator.eval(self.problem, infills, algorithm=self)
  File "/opt/conda/lib/python3.10/site-packages/pymoo/core/evaluator.py", line 69, in eval
    self._eval(problem, pop[I], evaluate_values_of, **kwargs)
  File "/opt/conda/lib/python3.10/site-packages/pymoo/core/evaluator.py", line 90, in _eval
    out = problem.evaluate(X, return_values_of=evaluate_values_of, return_as_dictionary=True, **kwargs)
  File "/opt/conda/lib/python3.10/site-packages/pymoo/core/problem.py", line 187, in evaluate
    _out = self.do(X, return_values_of, *args, **kwargs)
  File "/opt/conda/lib/python3.10/site-packages/pymoo/core/problem.py", line 227, in do
    self._evaluate_elementwise(X, out, *args, **kwargs)
  File "/opt/conda/lib/python3.10/site-packages/pymoo/core/problem.py", line 245, in _evaluate_elementwise
    elems = self.elementwise_runner(f, X)
  File "/opt/conda/lib/python3.10/site-packages/pymoo/core/problem.py", line 27, in __call__
    return [f(x) for x in X]
  File "/opt/conda/lib/python3.10/site-packages/pymoo/core/problem.py", line 27, in <listcomp>
    return [f(x) for x in X]
  File "/opt/conda/lib/python3.10/site-packages/pymoo/core/problem.py", line 20, in __call__
    self.problem._evaluate(x, out, *self.args, **self.kwargs)
  File "/home/jovyan/California-Urban-Water-Management-Economic-Tool/CaUWMET/src/optimization/costProblem.py", line 73, in _evaluate
    out["F"] = self.objectiveFunction(x)
  File "/home/jovyan/California-Urban-Water-Management-Economic-Tool/CaUWMET/src/modelLogic/modelLogic.py", line 52, in execute
    self.waterBalanceAndCostLogic(storageInputAssumptions_Contractor, excessSupplySwitch_Contractor)
  File "/home/jovyan/California-Urban-Water-Management-Economic-Tool/CaUWMET/src/modelLogic/modelLogic.py", line 80, in waterBalanceAndCostLogic
    self.contingencyWMOs.implementContingencyWMOsIfNeeded(contingencyWMOsInput, self.contingentConservationUseReductionVolume_Contractor, self.waterMarketTransferDeliveries_Contractor, self.totalShortage_Contractor, self.demandsToBeMetByWaterMarketTransfers_Contractor)
  File "/home/jovyan/California-Urban-Water-Management-Economic-Tool/CaUWMET/src/modelLogic/contingentWMOs/contingencyWMOsHandler.py", line 19, in implementContingencyWMOsIfNeeded
    contingentConservationStorageTrigger_Contractor = self.inputData.contingentConservationStorageTrigger[self.inputData.contingentConservationStorageTrigger['Contractor'] == self.contingentWMOsinput.contractor][self.inputData.futureYear].values[0]
IndexError: index 0 is out of bounds for axis 0 with size 0

  {
    contractor: 'Metropolitan Water District of Southern California',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 2966592215.687272,
    F_zero: 2966592215.687272,
    execution_time: '0:02:36',
    viz_path: 'graphics/MetropolitanWaterDistrictofSouthernCalifornia-2045_optimization_p-20_n-29_1698967178.png'
  },
  {
    contractor: 'Mojave Water Agency',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 99490663.18544206,
    F_zero: 99490663.18544206,
    execution_time: '0:01:25',
    viz_path: 'graphics/MojaveWaterAgency-2045_optimization_p-20_n-17_1698967336.png'
  },
  {
    contractor: 'Palmdale Water District & Littlerock Creek Irrigation District',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 19643754.20329596,
    F_zero: 19643754.20329596,
    execution_time: '0:01:28',
    viz_path: 'graphics/PalmdaleWaterDistrict&LittlerockCreekIrrigationDistrict-2045_optimization_p-20_n-17_1698967423.png'
  },
  {
    contractor: 'San Bernardino Valley Municipal Water District',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 0, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 228365286.34294268,
    F_zero: 228365286.34294268,
    execution_time: '0:01:57',
    viz_path: 'graphics/SanBernardinoValleyMunicipalWaterDistrict-2045_optimization_p-20_n-23_1698967512.png'
  },
  {
    contractor: 'San Gorgonio Pass Water Agency',
    error: 'None',
    X_optim: [0, 0, 0, 0, 0, 0, 995.4317486089178, 0],
    X_zero: [0, 0, 0, 0, 0, 0, 0, 0],
    F_optim: 57625699.89800704,
    F_zero: 61684019.31914659,
    execution_time: '0:05:38',
    viz_path: 'graphics/SanGorgonioPassWaterAgency-2045_optimization_p-20_n-56_1698967631.png'
  }
}
---
Optimization loop complete!
Excel file outputs: ['src/outputData/ModelOutputs_Optimal.xlsx', 'src/outputData/QAQCResults_Optimal.xlsx', 'src/outputData/ModelOutputs_Zero.xlsx', 'src/outputData/QAQCResults_Zero.xlsx']
End Datetime: 2023-11-02 23:33:01.898413
Operation Complete!
